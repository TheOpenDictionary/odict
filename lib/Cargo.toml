[package]
name = "odict"
description = "A blazingly-fast dictionary file format for human languages"
homepage = "https://odict.org"
repository = "https://github.com/TheOpenDictionary/odict"
version = "2.0.0"
edition = "2021"
license = "MIT"
exclude = ["benches/*", "tests/*"]

[features]
json = ["dep:serde_json"]
sql = ["dep:sea-query"]
config = ["dep:dirs"]
charabia = ["dep:charabia"]
search = ["dep:tantivy"]
default = ["json", "sql", "config"]

[[bench]]
name = "lib"
harness = false

[dependencies]
byteorder = "1.5.0"
quick-xml = { version = "0.37.0", features = ["serialize"] }
rayon = "1.10.0"
regex = "1.10.4"
rkyv = { version = "0.8.8", features = ["alloc"] }
serde = { version = "1.0.200", features = ["serde_derive"] }
uuid = { version = "1.8.0", features = ["v4", "fast-rng", "macro-diagnostics"] }
pulldown-cmark = "0.12.0"
validation = "0.0.1"

# feature=json
serde_json = { version = "1.0.116", optional = true }
# feature=charabia
charabia = { version = "0.9.0", optional = true }
# feature=search
tantivy = { version = "0.22.0", optional = true }
# feature=config
dirs = { version = "5.0.1", optional = true }
# feature=sql
sea-query = { version = "0.32.0", optional = true }
thiserror = "2.0.7"
anyhow = "1.0.94"
brotli = "7.0.0"

[dev-dependencies]
insta = "1.38.0"
map-macro = "0.3.0"
criterion = { version = "0.5.1", features = ["html_reports"] }
tempfile = "3.14.0"

[lib]
name = "odict"
crate-type = ["cdylib", "staticlib", "lib"]
