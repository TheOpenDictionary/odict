
# ---------------------------------------------------------------------------- #
#                                    Schema                                    #
# ---------------------------------------------------------------------------- #

schema-build:
	flatc -g -o . schema/schema.fbs

schema-clean:
	rm -rf schema/*.go

# ---------------------------------------------------------------------------- #
#                                    Library                                   #
# ---------------------------------------------------------------------------- #

OUTPUT=build

lib-build: schema
	go build -buildmode=c-shared -o ${OUTPUT} ./lib

# ---------------------------------------------------------------------------- #
#                                    Python                                    #
# ---------------------------------------------------------------------------- #

python-build: python-clean schema
	poetry build

python-clean:
	rm -rf setup.py dist build